{"version":3,"sources":["webpack:///./src/views/InsPolicyDetails.vue?cee8","webpack:///src/views/InsPolicyDetails.vue","webpack:///./src/views/InsPolicyDetails.vue?5e9f","webpack:///./src/views/InsPolicyDetails.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","sectionTitle","titles","tabLen","scopedSlots","_u","key","fn","table1Data","proxy","_v","slot4Tags","tableSlot4Id","tableSlot4Columns","tableSlot4Data","staticRenderFns","name","beforeRouteEnter","next","vm","$store","commit","mounted","console","log","insPolicyNumber","computed","state","data","originalTable1Data","i","watch","watchApiCall","methods","table1","component"],"mappings":"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","file":"js/insPolicyDetails.617d56a1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SectionTitle',{attrs:{\"title\":_vm.sectionTitle}}),_c('Tabs',{attrs:{\"titles\":_vm.titles,\"tabLen\":_vm.tabLen},scopedSlots:_vm._u([{key:\"1\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc1\",\"title\":\"保單基本資料\"}},[_c('Table',{attrs:{\"colNum\":3,\"table\":_vm.table1Data}})],1)]},proxy:true},{key:\"2\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc2_1\",\"title\":\"投資型商品詳細資料\"}},[_vm._v(\"待確認資料型態\")]),_c('Accordion',{attrs:{\"id\":\"acc2_2\",\"title\":\"投資標的內容分配\"}},[_vm._v(\"待確認資料型態\")])]},proxy:true},{key:\"3\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc3\",\"title\":\"目標堆疊\"}},[_vm._v(\"待確認資料型態\")])]},proxy:true},{key:\"4\",fn:function(){return [_c('Tags',{attrs:{\"tags\":_vm.slot4Tags}}),_c('TestTabulator',{attrs:{\"tableId\":_vm.tableSlot4Id,\"columns\":_vm.tableSlot4Columns,\"tableData\":_vm.tableSlot4Data,\"checkId1\":\"insPolicyDetails-slot4-check1\",\"checkId2\":\"insPolicyDetails-slot4-check2\"}})]},proxy:true},{key:\"5\",fn:function(){return [_c('Accordion',{attrs:{\"id\":\"acc5\",\"title\":\"投資型附約保單\"}},[_vm._v(\"待確認資料型態\")])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template> <!-- 04, 05, 06, 07, 08 -->\r\n  <div>\r\n    <SectionTitle :title=\"sectionTitle\" />\r\n    <Tabs :titles=\"titles\" :tabLen=\"tabLen\">\r\n      <template v-slot:1>\r\n        <Accordion id=\"acc1\" title=\"保單基本資料\">\r\n          <Table :colNum=\"3\" :table=\"table1Data\" />\r\n        </Accordion>\r\n      </template>\r\n      <template v-slot:2>\r\n        <Accordion id=\"acc2_1\" title=\"投資型商品詳細資料\">待確認資料型態</Accordion>\r\n        <Accordion id=\"acc2_2\" title=\"投資標的內容分配\">待確認資料型態</Accordion>\r\n      </template>\r\n      <template v-slot:3>\r\n        <Accordion id=\"acc3\" title=\"目標堆疊\">待確認資料型態</Accordion>\r\n      </template>\r\n      <template v-slot:4>\r\n        <Tags :tags=\"slot4Tags\" />\r\n        <TestTabulator\r\n          :tableId=\"tableSlot4Id\"\r\n          :columns=\"tableSlot4Columns\"\r\n          :tableData=\"tableSlot4Data\"\r\n          checkId1=\"insPolicyDetails-slot4-check1\"\r\n          checkId2=\"insPolicyDetails-slot4-check2\"\r\n        />\r\n      </template>\r\n      <template v-slot:5>\r\n        <Accordion id=\"acc5\" title=\"投資型附約保單\">待確認資料型態</Accordion>\r\n      </template>\r\n    </Tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuid } from 'uuid';\r\nimport axios from 'axios';\r\nimport qs from 'qs';\r\nexport default {\r\n  name: \"InsPolicyDetails\",\r\n  beforeRouteEnter(to,from,next){\r\n    next( vm => {\r\n      vm.$store.commit(\"setHistory\", {name: from.name, path: from.path, id: uuid()})\r\n    });\r\n  },\r\n  mounted(){\r\n    console.log(this.insPolicyNumber)\r\n  },\r\n  computed:{\r\n    insPolicyNumber(){\r\n      return this.$store.state.insPolicyNumber\r\n    },\r\n    //TODO DELETE\r\n    table1Data(){\r\n      let data = this.$store.state.singleInsPolicyData;\r\n      //get call api \r\n      let id = data ? data.id : \"no id\";\r\n      let originalTable1Data = this.table1;\r\n      if (data){\r\n        for (let i = 0; i < originalTable1Data.length; i++){\r\n          originalTable1Data[i][\"value\"] = `${id}_newData`;\r\n        }\r\n      }\r\n      return originalTable1Data;\r\n    }\r\n  },\r\n  watch:{\r\n    insPolicyNumber(newVal, oldVal){\r\n      //call api to set table1Data\r\n      this.watchApiCall();\r\n      console.log(`newVal: ${newVal} \\n oldVal: ${oldVal}`)\r\n    }\r\n  },\r\n  methods: {\r\n    async watchApiCall(){\r\n      console.log(\"callApi\")\r\n      // const domain = this.$store.state.domain;\r\n      // const url = domain + \"/RIAF001Api/RIAF001Query\";\r\n      const url = \"http://localhost:10201/querySystemControllerApi/cc183i\"\r\n      // const token = this.$store.state.token;\r\n      const params = {\r\n        i_policy_no: \"12345\",\r\n      }\r\n       const headers = {\r\n         \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        //Authorization: \"bearer \" + token,\r\n       };\r\n       try {\r\n         const res = await axios.post(url, qs.stringify(params), {\r\n           headers,\r\n         });\r\n         console.log(res);\r\n       } catch (e) {\r\n         console.log(e);\r\n      //   alert(\"無法查詢資料，請洽系統管理人員。\");\r\n       }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      sectionTitle: \"保單明細\",\r\n      tabLen: 5,\r\n      titles: [\r\n        \"保單基本資料\",\r\n        \"金額明細及分配比例\",\r\n        \"目標堆疊查詢\",\r\n        \"投資收益分配方式\",\r\n        \"附約保單\",\r\n      ],\r\n      tableSlot4Id: \"tableSlot4Id\",\r\n      tableSlot4Columns: [\r\n        { title: \"序號\", field: \"id\" },\r\n        { title: \"類型\", field: \"a\" },\r\n        { title: \"標的代碼\", field: \"b\" },\r\n        { title: \"投資標的\", field: \"c\" },\r\n        { title: \"標的收益方式\", field: \"d\" },\r\n        { title: \"標的代碼\", field: \"e\" },\r\n        { title: \"收益指定標的\", field: \"f\" },\r\n      ],\r\n      tableSlot4Data: [],\r\n      table1: [\r\n        { key: \"保單號碼\", keyId: 0, value: \"\" },\r\n        { key: \"序號/住所\", keyId: 1, value: \"\" },\r\n        { key: \"要保人ID/生日\", keyId: 2, value: \"\" },\r\n        { key: \"狀態\", keyId: 3, value: \"\" },\r\n        { key: \"住所電話\", keyId: 4, value: \"\" },\r\n        { key: \"要保人/性別/簽樣\", keyId: 5, value: \"\" },\r\n        { key: \"繳別\", keyId: 6, value: \"\" },\r\n        { key: \"序號/收費\", keyId: 7, value: \"\" },\r\n        { key: \"被保險人ID/生日\", keyId: 8, value: \"\" },\r\n        { key: \"收費方式\", keyId: 9, value: \"\" },\r\n        { key: \"收費電話\", keyId: 10, value: \"\" },\r\n        { key: \"被保險人/性別/簽樣\", keyId: 11, value: \"\" },\r\n        { key: \"要保日\", keyId: 12, value: \"\" },\r\n        { key: \"列管/手機\", keyId: 13, value: \"\" },\r\n        { key: \"收費地址狀態/列管\", keyId: 14, value: \"\" },\r\n        { key: \"生效日\", keyId: 15, value: \"\" },\r\n        { key: \"列管/MAIL\", keyId: 16, value: \"\" },\r\n        { key: \"電子表單/驗證/首次\", keyId: 17, value: \"\" },\r\n        { key: \"發單日\", keyId: 18, value: \"\" },\r\n        { key: \"製單日\", keyId: 19, value: \"\" },\r\n        { key: \"最新職業類別/職級\", keyId: 20, value: \"\" },\r\n        { key: \"要保人年收入\", keyId: 21, value: \"\" },\r\n        { key: \"被保人年收入\", keyId: 22, value: \"\" },\r\n        { key: \"家庭年收入\", keyId: 23, value: \"\" },\r\n      ],\r\n      slot4Tags: [\r\n        {title: '紅利選擇權', detail: '紅利選擇權內容_設計文字'},\r\n      ]\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsPolicyDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsPolicyDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsPolicyDetails.vue?vue&type=template&id=65f8f6ee&\"\nimport script from \"./InsPolicyDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./InsPolicyDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}