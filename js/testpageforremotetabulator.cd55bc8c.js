(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["testpageforremotetabulator"],{3328:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SectionTitle",{attrs:{title:t.sectionTitle}}),a("div",{staticClass:"content-card"},[a("div",{staticClass:"card-inner"},[a("div",{staticClass:"card-detail"},[a("Accordion",{attrs:{id:"remote-acc1",title:"體檢原因資料"}},[a("div",{attrs:{id:"remotetable"}}),a("button",{on:{click:t.remotePaginationCall}},[t._v("Call API")])])],1)])])],1)},o=[],c=(a("99af"),a("b0c0"),a("96cf"),a("1da1")),r=a("ec26"),i=a("bc3a"),l=a.n(i),s=a("4328"),d=a.n(s),u=(a("7db0"),a("caad"),a("fb6a"),a("d3b7"),a("25f0"),a("2532"),a("1157")),p=a("e325"),m=a("39c3");function f(t,e,a,n){var o=new p["default"]("".concat(t),{data:a,layout:"fitColumns",height:"255px",pagination:"remote",ajaxURL:"http://localhost:10202/commonController/tabulatorDatas?pageNo=1&size=1000",ajaxConfig:{method:"POST",mode:"cors"},paginationSize:10,movableColumns:!0,resizableRows:!0,columns:e,tableBuilt:function(){b()},rowClick:function(t,e){var a=e.getData(),o=e.getData().id;n.$store.commit("setInsPolicyNumber",a["a"]),n.$store.commit("setApplicant","".concat(o,"_").concat(a["f"])),n.$store.commit("setAssured","".concat(o,"_").concat(a["g"])),n.$store.commit("setSingleInsPolicyData",a)},dataLoaded:function(e){var a=u("".concat(t)).find(".tabulator-len");u(a).text("， 總共 ".concat(e.length," 筆，第 "));var n=u("".concat(t)).find(".tabulator-page-size"),o=u("".concat(t)).find(".tabulator-page-num");u(o).empty();for(var c=n.children("option:selected").val(),r=Math.ceil(e.length/c),i=0;i<r;i++)u(o).append(u("<option>").attr("value",i+1).text(i+1))},dataFiltered:function(e,a){var n=u("".concat(t)).find(".tabulator-len");u(n).text("， 總共 ".concat(a.length," 筆，第 "));var o=u("".concat(t)).find(".tabulator-page-size"),c=u("".concat(t)).find(".tabulator-page-num");u(c).empty();for(var r=o.children("option:selected").val(),i=Math.ceil(a.length/r),l=0;l<i;l++)u(c).append(u("<option>").attr("value",l+1).text(l+1))},cellMouseEnter:function(e,a){var n=a.getElement(),o=u("".concat(t,"-tooltip"))[0],c=a.getValue(),r=Object(m["a"])(n,o,{modifiers:[{name:"offset",options:{offset:[0,8]}}]}),i=u("".concat(t,"-tooltipTextContent"));u(i).text("".concat(c)),o.setAttribute("data-show",""),r.update()},cellMouseLeave:function(e,a){var n=u("".concat(t,"-tooltip"))[0];n.removeAttribute("data-show")}}),c=document.createElement("div");u(c).addClass("page-length");var r=u("".concat(t)).find(".tabulator-page-size")[0];u(c).insertAfter(r);var i=document.createElement("p");u(i).addClass("tabulator-len"),i.innerText="， 總共 ".concat(o.getData().length," 筆，第 ");var l=u("".concat(t)).find(".page-length")[0];u(i).appendTo(l);var s=u("".concat(t)).find(".tabulator-page-size"),d=document.createElement("select");u(d).addClass("tabulator-page-num"),u(d).insertAfter(c),v(s,o,d);var f=document.createElement("div");u(f).addClass("page-num"),u(f).insertAfter(d);var g=document.createElement("p");g.innerText=" 頁 ",u(g).appendTo(f),u(s).on("change",(function(){u(d).find("option").remove(),v(s,o,d)})),u(d).on("change",(function(){var t=u(d).children("option:selected").val();o.setPage(t)}));var h=u("".concat(t)).find(".tabulator-page");function b(){var e=t.slice(1),a=document.createElement("div");u(a).addClass("tabulator-tooltip"),u(a).attr("id","".concat(e,"-tooltip")),u(a).attr("role","tooltip");var n=document.createElement("span");u(n).text(""),u(n).attr("id","".concat(e,"-tooltipTextContent")),a.appendChild(n);var o=document.createElement("div");u(o).addClass("tabulator-arrow-tooltip"),u(o).attr("id","".concat(e,"-tooltipArrow")),a.appendChild(o);var c=u("".concat(t));u(a).insertAfter(c)}return h.on("click",(function(){var e=u(this).attr("data-page"),a=u("".concat(t)).find(".tabulator-page-num"),n=a.children("option:selected").val();if("prev"==e)u(d).val(n-1);else if("next"==e){var o=parseInt(n)+1;u(d).val(o)}else if("first"==e)u(d).val(1);else{var c=u("".concat(t)).find(".tabulator-page-num option:last").val();u(d).val(c)}})),o}function v(t,e,a){for(var n=t.children("option:selected").val(),o=Math.ceil(e.getData().length/n),c=0;c<o;c++)u(a).append(u("<option>").attr("value",c+1).text(c+1))}var g={name:"TestPageForRemoteTabulator",beforeRouteEnter:function(t,e,a){a((function(t){t.$store.commit("setHistory",{name:e.name,path:e.path,id:Object(r["a"])()})}))},mounted:function(){var t=this;this.vueTable=f("#remotetable",this.remoteCols,[],t)},computed:{insPolicyNumber:function(){return this.$store.state.insPolicyNumber}},watch:{insPolicyNumber:function(t,e){this.watchApiCall(),console.log("newVal: ".concat(t," \n oldVal: ").concat(e))}},methods:{watchApiCall:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("callApi");case 1:case"end":return t.stop()}}),t)})))()},remotePaginationCall:function(){return Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="http://localhost:10202/commonController/tabulatorDatas",a={pageNo:1,size:1e3},n={"Content-Type":"application/x-www-form-urlencoded"},t.prev=3,t.next=6,l.a.post(e,d.a.stringify(a),{headers:n});case 6:o=t.sent,console.log(o),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},data:function(){return{vueTable:null,sectionTitle:"體檢批註告知",remoteCols:[{field:"id",title:"ID"},{field:"first",title:"FIRST NAME"},{field:"last",title:"LAST NAME"},{field:"age",title:"AGE"}]}}},h=g,b=a("2877"),C=Object(b["a"])(h,n,o,!1,null,null,null);e["default"]=C.exports}}]);
//# sourceMappingURL=testpageforremotetabulator.cd55bc8c.js.map